{"ast":null,"code":"import { Client } from '@stomp/stompjs';\nimport SockJS from 'sockjs-client';\nlet client;\nexport const connectWebSocket = onMessage => {\n  const socket = new SockJS('http://localhost:8080/game');\n  client = new Client({\n    webSocketFactory: () => socket,\n    onConnect: () => {\n      console.log('Connected to WebSocket server');\n      client.subscribe('/topic/gameState', message => {\n        onMessage(message);\n      });\n    },\n    debug: msg => console.log(msg),\n    onWebSocketClose: () => console.log('WebSocket closed')\n  });\n  client.activate();\n  return {\n    disconnect: () => client.deactivate()\n  };\n};\nexport const sendMoveCommand = move => {\n  if (client && client.connected) {\n    client.publish({\n      destination: '/app/move',\n      body: JSON.stringify(move)\n    });\n  } else {\n    console.error('WebSocket client is not connected');\n  }\n};","map":{"version":3,"names":["Client","SockJS","client","connectWebSocket","onMessage","socket","webSocketFactory","onConnect","console","log","subscribe","message","debug","msg","onWebSocketClose","activate","disconnect","deactivate","sendMoveCommand","move","connected","publish","destination","body","JSON","stringify","error"],"sources":["C:/Users/Trisha/hitwicket/hitwicket-chess-frontend/src/websocket.js"],"sourcesContent":["import { Client } from '@stomp/stompjs';\nimport SockJS from 'sockjs-client';\n\nlet client;\n\nexport const connectWebSocket = (onMessage) => {\n    const socket = new SockJS('http://localhost:8080/game');\n    \n    client = new Client({\n        webSocketFactory: () => socket,\n        onConnect: () => {\n            console.log('Connected to WebSocket server');\n            client.subscribe('/topic/gameState', (message) => {\n                onMessage(message);\n            });\n        },\n        debug: (msg) => console.log(msg),\n        onWebSocketClose: () => console.log('WebSocket closed'),\n    });\n\n    client.activate();\n\n    return {\n        disconnect: () => client.deactivate(),\n    };\n};\n\nexport const sendMoveCommand = (move) => {\n    if (client && client.connected) {\n        client.publish({\n            destination: '/app/move',\n            body: JSON.stringify(move),\n        });\n    } else {\n        console.error('WebSocket client is not connected');\n    }\n};\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,gBAAgB;AACvC,OAAOC,MAAM,MAAM,eAAe;AAElC,IAAIC,MAAM;AAEV,OAAO,MAAMC,gBAAgB,GAAIC,SAAS,IAAK;EAC3C,MAAMC,MAAM,GAAG,IAAIJ,MAAM,CAAC,4BAA4B,CAAC;EAEvDC,MAAM,GAAG,IAAIF,MAAM,CAAC;IAChBM,gBAAgB,EAAEA,CAAA,KAAMD,MAAM;IAC9BE,SAAS,EAAEA,CAAA,KAAM;MACbC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;MAC5CP,MAAM,CAACQ,SAAS,CAAC,kBAAkB,EAAGC,OAAO,IAAK;QAC9CP,SAAS,CAACO,OAAO,CAAC;MACtB,CAAC,CAAC;IACN,CAAC;IACDC,KAAK,EAAGC,GAAG,IAAKL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;IAChCC,gBAAgB,EAAEA,CAAA,KAAMN,OAAO,CAACC,GAAG,CAAC,kBAAkB;EAC1D,CAAC,CAAC;EAEFP,MAAM,CAACa,QAAQ,CAAC,CAAC;EAEjB,OAAO;IACHC,UAAU,EAAEA,CAAA,KAAMd,MAAM,CAACe,UAAU,CAAC;EACxC,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,eAAe,GAAIC,IAAI,IAAK;EACrC,IAAIjB,MAAM,IAAIA,MAAM,CAACkB,SAAS,EAAE;IAC5BlB,MAAM,CAACmB,OAAO,CAAC;MACXC,WAAW,EAAE,WAAW;MACxBC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,IAAI;IAC7B,CAAC,CAAC;EACN,CAAC,MAAM;IACHX,OAAO,CAACkB,KAAK,CAAC,mCAAmC,CAAC;EACtD;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}